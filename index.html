<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Queremos escucharte</title>

<style>
body {
  font-family: 'Raleway', sans-serif;
  background-color: #24272a;
  color: #ededed;
  padding: 40px 20px;
  max-width: 600px;
  margin: auto;
}

h1 {
  color: #a57f50;
  text-align: center;
}

select, input {
  width: 100%;
  padding: 10px;
  margin-top: 8px;
  margin-bottom: 20px;
  border-radius: 6px;
  border: none;
}

label {
  font-weight: bold;
}

.checkbox-group {
  margin-bottom: 20px;
}

button {
  background-color: #a57f50;
  color: white;
  border: none;
  padding: 12px;
  width: 100%;
  border-radius: 6px;
  cursor: pointer;
  font-size: 16px;
}

button:hover {
  opacity: 0.9;
}

.hidden {
  display: none;
}
</style>
</head>

<body>

<h1>‚ú® Queremos escucharte</h1>
<p>Estamos evaluando extender nuestro horario.<br>
Tu respuesta toma menos de 1 minuto.</p>

<form id="form">

<label>1Ô∏è‚É£ ¬øCon qu√© frecuencia nos visitas actualmente?</label>
<select name="frecuencia" required>
<option value="">Selecciona una opci√≥n</option>
<option>1 vez al mes</option>
<option>2‚Äì3 veces al mes</option>
<option>1 vez por semana</option>
<option>Varias veces por semana</option>
</select>

<label>2Ô∏è‚É£ Si extendemos nuestro horario, ¬øhasta qu√© hora te ser√≠a atractivo visitarnos?</label>
<select name="hora" required>
<option value="">Selecciona una opci√≥n</option>
<option>4:00pm</option>
<option>5:00pm</option>
<option>6:00pm</option>
<option>No me afectar√≠a el horario</option>
</select>

<label>3Ô∏è‚É£ ¬øEn qu√© d√≠as te ser√≠a m√°s atractivo visitarnos en horario extendido?</label>
<select name="dias" required>
<option value="">Selecciona una opci√≥n</option>
<option>Martes a jueves</option>
<option>Viernes y s√°bado</option>
<option>Ambos</option>
</select>

<label>4Ô∏è‚É£ ¬øQu√© propuesta te motivar√≠a a visitarnos en la tarde?</label>
<div class="checkbox-group">
  <input type="checkbox" name="propuesta" value="Caf√© + postres"> Caf√© + postres<br>
  <input type="checkbox" name="propuesta" value="Men√∫ ligero"> Men√∫ ligero<br>
  <input type="checkbox" name="propuesta" value="Tapas y vinos"> Tapas y vinos<br>
  <input type="checkbox" name="propuesta" value="Ambiente relajado para conversar"> Ambiente relajado para conversar<br>
  <input type="checkbox" name="propuesta" value="Espacio para reuniones de trabajo"> Espacio para reuniones de trabajo
</div>

<label>5Ô∏è‚É£ Si activamos este nuevo horario, ¬øcu√°ntas veces al mes crees que nos visitar√≠as?</label>
<select name="visitas" required>
<option value="">Selecciona una opci√≥n</option>
<option>1 vez</option>
<option>2 veces</option>
<option>3 o m√°s</option>
</select>

<label>6Ô∏è‚É£ ¬øTe gustar√≠a recibir notificaci√≥n cuando iniciemos esta nueva etapa?</label>
<select name="notificacion" id="notificacion" required>
<option value="">Selecciona una opci√≥n</option>
<option>S√≠</option>
<option>No</option>
</select>

<div id="contacto" class="hidden">
<label>Nombre y Apellido</label>
<input type="text" name="nombre">

<label>N√∫mero de celular</label>
<input type="text" name="celular">
</div>

<button type="submit">Enviar respuesta</button>

</form>

<script>
const form = document.getElementById('form');
const notificacion = document.getElementById('notificacion');
const contacto = document.getElementById('contacto');

notificacion.addEventListener('change', function() {
  if (this.value === "S√≠") {
    contacto.classList.remove('hidden');
    form.nombre.required = true;
    form.celular.required = true;
  } else {
    contacto.classList.add('hidden');
    form.nombre.required = false;
    form.celular.required = false;
  }
});

form.addEventListener('submit', function(e) {
  e.preventDefault();

  const formData = new FormData(form);

  const propuestas = [];
  document.querySelectorAll('input[name="propuesta"]:checked')
    .forEach(el => propuestas.push(el.value));

  const data = {
    frecuencia: formData.get("frecuencia"),
    hora: formData.get("hora"),
    dias: formData.get("dias"),
    propuesta: propuestas,
    visitas: formData.get("visitas"),
    notificacion: formData.get("notificacion"),
    nombre: formData.get("nombre"),
    celular: formData.get("celular")
  };

  fetch("https://script.google.com/macros/s/AKfycbzjN44_nHKMtdlVF_JUcZIAM2OovtuaevzwZ1vBRmmXsSnmA75j-Dq5U3mk6LyZxpea/exec", {
    method: "POST",
    body: JSON.stringify(data),
    headers: {
      "Content-Type": "application/json"
    }
  })
  .then(response => response.json())
  .then(result => {
    alert("Gracias por tu respuesta üíõ");
    form.reset();
    contacto.classList.add('hidden');
  })
  .catch(error => {
    alert("Ocurri√≥ un error al enviar. Intenta nuevamente.");
    console.error(error);
  });
});
</script>

</body>
</html>
